<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  <link rel="stylesheet" href="/style.css">
  <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>

  <!--<script src="../authController.js"></script>-->
  <title>Dashboard</title>
</head>

<body>

  <div class="row">

    <main class="col-md-10 ms-sm-auto col-lg-12 px-md-6">
      <div class="chartjs-size-monitor">
        <div class="chartjs-size-monitor-expand">
          <div class=""></div>
        </div>
        <div class="chartjs-size-monitor-shrink">
          <div class=""></div>
        </div>
      </div>
      <div
        class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">

        <div class="btn-toolbar mb-2 mb-md-0">
          <div class="btn-group me-2">
            <form action="/api/user/logout" method="GET">
              <button type="submit" class="btn btn-sm btn-outline-secondary" style="float: right;">Logout</button><br>
            </form>
            <div class="post_message">
              <form action="/auth/post" method="POST">
                <input type="text" name="admin_post" id="admin_post" placeholder="Post a message " required>
                <input type="submit" name="post" id="post" value="Post" required>
              </form>
            </div>

          </div>
        </div>
      </div>
      <h3>User's Data</h3>
      <p style="color: black">See The Console To See User's Data</p>
      <script>

        (async function dashboard() {

          console.log("Hello From fetch");
          // await getData();
          const { data: entries } = await fetch("http://localhost:3000/api/user/userDataDashboard").then(resp => resp.json()).catch(err => console.error(err));
          console.log(entries)
          const id = entries.map(entry => entry.id);
          const username = entries.map(entry => entry.username);
          const email = entries.map(entry => entry.email);
          console.log(id, username, email);
        })();
      </script>
    </main>
    <div id="people"></div>
    <div class="table-responsive">
      <table class="table table-striped table-sm">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">UserName</th>
            <th scope="col">Email</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
      <p id="display"></p>
    </div>
    </main>
  </div>


</body>




<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>

</body>

</html>